<h1 class="mb-4 text-primary text-center">Users</h1>

<div class="row mb-4">
  <div class="col-md-12 d-flex justify-content-between">
    <div class="col-md-10">
      <form class="d-flex" [formGroup]="formGroup" (ngSubmit)="onSearch()">
        <input type="text"
               class="form-control mr-2"
               placeholder="Search by title..."
               formControlName="search">

        <button class="btn btn-outline-primary">Search</button>
        <button class="btn btn-outline-dark ml-2" (click)="onClearSearch()">Clear</button>
      </form>
    </div>

    <div class="col-md-2">
      <a class="btn btn-outline-info btn-block" routerLink="/user-add">Add new</a>
    </div>
  </div>
</div>

<div class="container mt-4">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Password</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of this.users; let i = index;" [ngClass] = "user.isBlocked ? 'warning' : ''">
          <td *ngIf="user">{{user.username}}</td>
          <td *ngIf="user">{{user.password}}</td>
          <td *ngIf="user">{{user.fname}}</td>
          <td *ngIf="user">{{user.lname}}</td>
          <td *ngIf="user">{{user.email}}</td>
          <td *ngIf="user"><button class="btn-link glyphicon glyphicon-remove" title="Remove" (click)="onDeleteClick(user.email)"></button></td>
          <td *ngIf="user"><button class="btn-link glyphicon glyphicon-edit" title="Update" [routerLink]="['/user-add', user.id]"></button></td>
          <td *ngIf="user"><button class="btn-link glyphicon glyphicon-lock" title="Block" (click)="onBlockClick(i)"></button></td>
        </tr>
      </tbody>
    </table>
  </div>